<div class="container mt-4">
  <h1>Reviews</h1>

  <table class="table table-striped">
    <thead class="thead-light">
    <tr>
      <th><%= link_to "Album", reviews_path(sort: "album", direction: params[:direction] == "asc" ? "desc" : "asc") %></th>
      <th>Review</th>
      <th><%= link_to "Rate", reviews_path(sort: "rate", direction: params[:direction] == "asc" ? "desc" : "asc") %></th>
      <th colspan="3">Actions</th>
    </tr>
    </thead>

    <tbody>
    <% @reviews.each do |review| %>
      <tr>
        <td><%= link_to review.album.title, album_path(review.album) %></td>
        <td><%= review.review %></td>
        <td><%= review.rate %></td>
        <td><%= link_to "Show", review_path(review), class: "btn btn-info btn-sm" %></td>
        <% if review.review_by_id == current_user.id %>
          <td><%= link_to "Edit", edit_review_path(review), class: "btn btn-warning btn-sm" %></td>
          <td><%= button_to "Delete", review_path(review), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-sm" %></td>
      <% end %>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
